# サポート報告書WEBシステム ディレクトリ構造設計書

**作成日**: 2025-11-20  
**バージョン**: 1.0  
**Phase**: 01

---

## 1. 全体ディレクトリ構造

```
D:\#M\PG_DATA\OIS社内システム\PG_DATA\サポート報告書WEB\
├── 00_プロンプト/              # フェーズ間プロンプト保存
├── 01_規約/                    # 開発規約・設計書
├── 02_分析/                    # 現行システム分析資料
├── 03_設計/                    # システム設計書
├── 04_製造/                    # 開発ソースコード
│   ├── php/                   # PHPファイル
│   ├── css/                   # CSSファイル
│   ├── js/                    # JavaScriptファイル
│   ├── images/                # 画像ファイル
│   └── includes/              # インクルードファイル
├── 05_検証/                    # テスト資料
├── 06_調整/                    # 調整・修正履歴
├── 07_環境構築/                # 環境構築手順書
├── 08_ドキュメント/             # 各種ドキュメント
└── ナレッジ/                   # 参考資料（既存）
```

---

## 2. 各ディレクトリ詳細

### 2.1 00_プロンプト/
**目的**: フェーズ間でClaude AIに渡すプロンプトを保存

```
00_プロンプト/
├── Phase01_to_Phase02.md      # Phase 02開始プロンプト
├── Phase02_to_Phase03.md      # Phase 03開始プロンプト
├── Phase03_to_Phase04.md      # Phase 04開始プロンプト
└── ...
```

**命名規則**: `Phase[現在]_to_Phase[次].md`

---

### 2.2 01_規約/
**目的**: 開発規約、コーディング規約、設計指針を格納

```
01_規約/
├── 開発規約書.md               # 本ドキュメント
├── コーディング規約書.md        # 詳細なコーディング規約
├── ディレクトリ構造設計書.md    # ディレクトリ構造説明
├── データベース規約書.md        # DB規約
└── UI設計ガイドライン.md        # UI/UX設計指針
```

---

### 2.3 02_分析/
**目的**: 現行Access システムの分析結果を格納

```
02_分析/
├── 現行システム分析報告書.md    # 総合分析レポート
├── 画面一覧.md                 # 画面構成一覧
├── 機能一覧.md                 # 機能リスト
├── データフロー図.md            # データの流れ
├── テーブル構造.md             # DBテーブル構造
└── ストアドプロシージャ一覧.md  # SP一覧
```

---

### 2.4 03_設計/
**目的**: WEBシステムの設計書を格納

```
03_設計/
├── システム全体設計書.md        # システム全体像
├── 画面設計書/
│   ├── 01_ログイン画面.md
│   ├── 02_メニュー画面.md
│   ├── 03_報告書一覧画面.md
│   ├── 04_報告書登録画面.md
│   ├── 05_報告書更新画面.md
│   └── ...
├── 機能設計書/
│   ├── 01_ログイン機能.md
│   ├── 02_検索機能.md
│   ├── 03_登録機能.md
│   └── ...
├── データベース設計書.md        # DB設計
├── セキュリティ設計書.md        # セキュリティ仕様
└── API仕様書.md                # 内部API仕様
```

---

### 2.5 04_製造/
**目的**: 開発したソースコードを格納

```
04_製造/
├── php/                        # PHPファイル群
│   ├── index.php              # ログイン画面
│   ├── menu.php               # メニュー画面
│   ├── support_main.php       # サポート報告書メイン
│   ├── support_list.php       # 報告書一覧
│   ├── support_ins.php        # 報告書登録
│   ├── support_upd.php        # 報告書更新
│   ├── support_del.php        # 報告書削除
│   ├── support_kensaku01.php  # 検索処理1
│   ├── support_ajax01.php     # Ajax処理1
│   └── ...
├── css/                        # CSSファイル群
│   ├── pc.css                 # PC用CSS
│   ├── tablet.css             # タブレット用CSS
│   ├── sp.css                 # スマートフォン用CSS
│   ├── common.css             # 共通CSS
│   └── support.css            # サポート報告書用CSS
├── js/                         # JavaScriptファイル群
│   ├── jquery.js              # jQuery本体
│   ├── jquery-ui.min.js       # jQuery UI
│   ├── custom.js              # 独自スクリプト
│   ├── support.js             # サポート報告書用JS
│   └── libraries/             # 外部ライブラリ
│       ├── dateformat.js
│       ├── jquery.blockUI.js
│       └── ...
├── images/                     # 画像ファイル群
│   ├── logo.png
│   ├── button-submit.png
│   ├── icon-edit.png
│   ├── loading.gif
│   └── ...
└── includes/                   # インクルードファイル群
    ├── config.php             # 設定ファイル
    ├── db_connect.php         # DB接続
    ├── functions.php          # 独自関数
    └── header.php             # 共通ヘッダー
```

---

### 2.6 05_検証/
**目的**: テスト計画書、テストケース、テスト結果を格納

```
05_検証/
├── テスト計画書.md             # テスト全体計画
├── 単体テスト/
│   ├── テストケース一覧.md
│   ├── テスト結果_ログイン機能.md
│   ├── テスト結果_検索機能.md
│   └── ...
├── 結合テスト/
│   ├── テストケース一覧.md
│   └── テスト結果.md
├── 総合テスト/
│   ├── テストシナリオ.md
│   └── テスト結果.md
└── バグ管理/
    ├── バグ一覧.md
    └── 修正履歴.md
```

---

### 2.7 06_調整/
**目的**: リリース前の調整・修正内容を記録

```
06_調整/
├── 調整項目一覧.md             # 調整が必要な項目リスト
├── 修正履歴.md                 # 修正内容の記録
├── レビュー指摘事項.md         # レビュー結果
└── パフォーマンス改善.md        # 性能改善記録
```

---

### 2.8 07_環境構築/
**目的**: 環境構築手順、設定ファイルを格納

```
07_環境構築/
├── 環境構築手順書.md           # 構築手順
├── IIS設定手順.md              # IIS設定
├── PHP設定手順.md              # PHP設定
├── SQL_Server設定手順.md       # SQL Server設定
├── 検証環境構築.md             # 検証環境用
├── 本番環境構築.md             # 本番環境用
└── config_samples/             # 設定ファイルサンプル
    ├── php.ini.sample
    ├── web.config.sample
    └── ...
```

---

### 2.9 08_ドキュメント/
**目的**: 完成版ドキュメント、運用マニュアルを格納

```
08_ドキュメント/
├── システム概要書.md           # システム全体概要
├── 機能一覧.md                 # 機能リスト
├── 操作マニュアル/
│   ├── ユーザー向けマニュアル.md
│   └── 管理者向けマニュアル.md
├── 保守運用マニュアル/
│   ├── 日常運用手順.md
│   ├── バックアップ手順.md
│   ├── 障害対応手順.md
│   └── データメンテナンス.md
└── リリースノート/
    ├── v1.0.0_リリースノート.md
    └── ...
```

---

### 2.10 ナレッジ/（既存）
**目的**: 現行Accessシステムの参考資料

```
ナレッジ/
├── DB.ipynb                             # データベース情報
├── SUPPORT_PG.accdb                     # Accessファイル
├── SUPPORT_PG.accdb.AsText.20251118_1329/  # テキスト化Access構造
└── スクリーンショット/                   # 画面イメージ
```

---

## 3. 検証・本番ディレクトリ構造

### 3.1 検証ディレクトリ
**場所**: `\\LPG-NEMA\C\inetpub\wwwroot\support-system\`

```
support-system/
├── index.php                   # ログイン画面
├── menu.php                    # メニュー画面
├── support_*.php               # サポート報告書関連
├── css/
│   ├── pc.css
│   ├── tablet.css
│   └── sp.css
├── js/
│   └── (JavaScriptファイル)
├── images/
│   └── (画像ファイル)
└── includes/
    └── (インクルードファイル)
```

### 3.2 本番ディレクトリ
**場所**: `\\DEV-SE\C\inetpub\wwwroot\support-system\`

- 検証ディレクトリと同じ構造
- 検証完了後にファイルを配置

---

## 4. 共通関数ディレクトリ（参照のみ）

**場所**: `C:\inetpub\func\`

```
func/
├── inc.php                     # 共通インクルード（DB接続含む）
├── inc_silps.php               # SILPS固有設定
├── myFunction.php              # 共通関数
├── myConvert.php               # 文字コード変換
├── ua.class.php                # ユーザーエージェント判定
└── login.php                   # ログイン処理
```

**注意**: このディレクトリは既存システム共通のため、直接編集しない。  
必要に応じて参照し、独自関数は `includes/functions.php` に作成。

---

## 5. ファイル配置ルール

### 5.1 開発時
- 作業ディレクトリ: `D:\#M\PG_DATA\...\サポート報告書WEB\04_製造\`
- ソースコードは `04_製造/` 配下で開発

### 5.2 検証時
- 検証ディレクトリ: `\\LPG-NEMA\C\inetpub\wwwroot\support-system\`
- `04_製造/` から必要なファイルをコピー

### 5.3 本番リリース時
- 本番ディレクトリ: `\\DEV-SE\C\inetpub\wwwroot\support-system\`
- 検証完了ファイルをコピー

---

## 6. バージョン管理

### 6.1 ディレクトリ単位でのバックアップ
```
04_製造/
├── v1.0.0/                     # バージョン1.0.0
├── v1.1.0/                     # バージョン1.1.0
└── current/                    # 最新版（シンボリックリンク的に使用）
```

### 6.2 リリースアーカイブ
```
08_ドキュメント/
└── releases/
    ├── v1.0.0_2025-12-01.zip   # リリース版アーカイブ
    └── v1.1.0_2026-01-15.zip
```

---

## 7. アクセス権限

### 7.1 作業ディレクトリ
- **開発者**: 読み書き可能
- **レビュアー**: 読み取りのみ

### 7.2 検証・本番ディレクトリ
- **開発者**: 配置権限あり
- **一般ユーザー**: 読み取り・実行のみ

---

## 8. 運用ルール

### 8.1 ファイル作成時
1. 必ず該当ディレクトリに作成
2. 命名規則に従う
3. ファイルヘッダーコメントを記載

### 8.2 ドキュメント作成時
1. Markdown形式で作成
2. 図表は明確に記載
3. 更新履歴を残す

### 8.3 フェーズ移行時
1. 成果物を該当ディレクトリに配置
2. 次フェーズプロンプトを `00_プロンプト/` に保存
3. 完了報告書を作成

---

## 9. 備考

### 9.1 ディレクトリ作成タイミング
- Phase 01: 全ディレクトリを作成
- Phase 02以降: 必要に応じてサブディレクトリを追加

### 9.2 命名規則の徹底
- ディレクトリ名: 日本語OK（Windowsのため）
- ファイル名: 開発規約書に従う
- 略語は統一（kensaku = 検索、ins = 登録、upd = 更新、del = 削除）

### 9.3 ドキュメント管理
- 全てのドキュメントはMarkdown形式
- 画像はBase64埋め込みまたは相対パスで参照
- バージョン管理はファイル内に更新履歴として記載

---

**承認**: Phase 01完了時  
**改訂履歴**:
- v1.0 (2025-11-20): 初版作成
