# Phase 10 検証環境デプロイ 開始プロンプト

**作成日**: 2025-11-26  
**前Phase**: Phase 09（検証・調整）  
**次Phase**: Phase 11（本番デプロイ）

---

## プロジェクト概要

### 達成目標
現在Accessで動いてるシステムのWEB版をリリースする

### システム概要
自社の社員向けに、日々の顧客からの問い合わせや、それに対する対応を入力し、記録・分析を行うもの

### 技術スタック
- **DB**: SQL Server 2022（継続）
- **DB接続**: PDO（PHP）
- **データ操作**: ストアドプロシージャ（継続）/（一部PHP）
- **フロント**: PHP 7.4+ / HTML5 / CSS3 / jQuery 1.11.3

---

## 作業ディレクトリ

- **作業ディレクトリ**: `D:\#M\PG_DATA\OIS社内システム\PG_DATA\サポート報告書WEB\`
- **検証ディレクトリ**: `\\LPG-NEMA\C\inetpub\wwwroot\support-system\`
- **本番ディレクトリ**: `\\DEV-SE\C\inetpub\wwwroot\support-system\`

---

## Phase 09 完了成果物

### 修正ファイル
1. `includes/validation.php` - Validatorクラス修正完了

### 追加ファイル
2. `js/README_jQuery配置手順.md` - jQuery配置手順書
3. `js/jquery-loader.js` - jQueryローダー説明
4. `logs/` ディレクトリ - ログ出力用
5. `logs/README.md` - 権限設定手順

### 検証ドキュメント
6. `05_検証/Phase09_検証結果報告書.md` - 検証結果詳細

---

## Phase 10 作業内容

### 目的
検証環境に全ファイルをデプロイし、実機テストを行う。

### 作業項目

#### 1. デプロイ前準備

##### jQuery配置
- [ ] jQuery 1.11.3 をダウンロード
  - URL: https://code.jquery.com/jquery-1.11.3.min.js
  - または: https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js
- [ ] `04_製造/js/jquery-1.11.3.min.js` として保存

##### 設定ファイル確認
- [ ] `config.php` のDB接続情報確認
  - サーバー: dev-se02\SQL22
  - データベース: SUPPORTDB
  - 認証: sa / OIS8973113fmv

##### ディレクトリ構成確認
```
04_製造/
├── login.php
├── logout.php
├── support_main.php
├── support_ajax01.php
├── support_ajax02.php
├── support_dialog.php
├── export_excel.php
├── master_shohin.php
├── master_kubun.php
├── master_content.php
├── master_teikei.php
├── master_ajax.php
├── includes/
│   ├── config.php
│   ├── database.php
│   ├── auth.php
│   ├── functions.php
│   └── validation.php
├── templates/
│   ├── header.php
│   └── footer.php
├── js/
│   ├── jquery-1.11.3.min.js ← 要配置
│   ├── common.js
│   ├── support.js
│   ├── support_dialog.js
│   └── master.js
├── css/
│   ├── common.css
│   ├── support.css
│   ├── dialog.css
│   └── master.css
└── logs/
    └── README.md
```

#### 2. 検証環境へのデプロイ

##### ファイルコピー
- [ ] 04_製造/ 配下の全ファイルを検証環境にコピー
- [ ] コピー先: `\\LPG-NEMA\C\inetpub\wwwroot\support-system\`

##### 権限設定
- [ ] logsディレクトリに書き込み権限を付与

##### IIS設定確認
- [ ] アプリケーションプールの確認
- [ ] PHPハンドラーの確認

#### 3. 実機テスト

##### ログイン機能テスト
- [ ] 正常ログイン
- [ ] 認証エラー
- [ ] セッションタイムアウト
- [ ] ログアウト

##### メイン画面テスト
- [ ] 一覧表示
- [ ] 検索機能
- [ ] ページネーション
- [ ] ソート機能

##### 入力ダイアログテスト
- [ ] 新規登録
- [ ] 編集
- [ ] 削除（管理者のみ）
- [ ] 顧客検索
- [ ] 定型文選択

##### マスタ設定テスト（管理者のみ）
- [ ] 商品マスタCRUD
- [ ] 対応区分マスタCRUD
- [ ] 対応内容項目マスタCRUD
- [ ] 定型文マスタCRUD

##### Excel出力テスト
- [ ] 検索結果のCSV出力
- [ ] 文字化け確認
- [ ] Excelで開けるか確認

##### レスポンシブテスト
- [ ] PC表示
- [ ] タブレット表示
- [ ] スマートフォン表示

#### 4. 問題対応

発見された問題を修正し、再テストを行う。

### 格納先
- テスト結果: `05_検証/` に記録
- 修正ファイル: `04_製造/` を更新

---

## 必須参照ドキュメント

### 製造成果物
1. `04_製造/` 配下の全ファイル

### 検証結果
2. `05_検証/Phase09_検証結果報告書.md`

### 設計書
3. `03_設計/画面設計書/` - 画面仕様
4. `03_設計/機能設計書/` - 機能仕様

---

## 作業進行の制約

1. **大容量ファイルの分割処理**
   - ファイル読み込みは必要に応じて分割
   - ファイル書き込みも大きい場合は分割

2. **成果物出力**
   - 作業ディレクトリのみにファイル出力
   - チャットでは出力結果の報告のみ

3. **トークン節約**
   - 長尺タスクは分割処理
   - 不要な出力を控える

4. **チャット容量管理**
   - 容量オーバーになる前に次チャット立ち上げを促す
   - プロンプトファイルを生成して継続性を確保

---

## 作業開始指示

1. デプロイ前準備の確認
2. jQueryファイルの配置確認
3. 検証環境へのファイルコピー
4. 実機テストの実施
5. 問題発見時の修正
6. テスト結果の記録
7. Phase 11用プロンプトの生成

---

## データベース接続情報

### 検証環境
- サーバー: dev-se02\SQL22
- データベース: SUPPORTDB
- ユーザー: sa
- パスワード: OIS8973113fmv

### テスト用アカウント
- SQL_作業担当テーブルに登録されている担当者コードとパスワードを使用

---

## 品質チェックリスト

Phase 10完了時に以下を確認：

### デプロイ
- [ ] 全ファイルがコピーされているか
- [ ] ファイル構成が正しいか
- [ ] 権限設定が適切か

### 機能面
- [ ] 全機能が正常に動作するか
- [ ] エラーが発生しないか
- [ ] 表示が崩れないか

### ドキュメント
- [ ] テスト結果が記録されているか
- [ ] 修正履歴が記録されているか

---

**作成者**: Claude AI  
**Phase 09完了日**: 2025-11-26
